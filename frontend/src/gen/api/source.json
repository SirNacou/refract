{
	"components": {
		"schemas": {
			"ErrorDetail": {
				"additionalProperties": false,
				"properties": {
					"location": {
						"description": "Where the error occurred, e.g. 'body.items[3].tags' or 'path.thing-id'",
						"type": "string"
					},
					"message": {
						"description": "Error message text",
						"type": "string"
					},
					"value": {
						"description": "The value at the given location"
					}
				},
				"type": "object"
			},
			"ErrorModel": {
				"additionalProperties": false,
				"properties": {
					"$schema": {
						"description": "A URL to the JSON Schema for this object.",
						"examples": ["http://localhost:8080/schemas/ErrorModel.json"],
						"format": "uri",
						"readOnly": true,
						"type": "string"
					},
					"detail": {
						"description": "A human-readable explanation specific to this occurrence of the problem.",
						"examples": ["Property foo is required but is missing."],
						"type": "string"
					},
					"errors": {
						"description": "Optional list of individual error details",
						"items": {
							"$ref": "#/components/schemas/ErrorDetail"
						},
						"type": "array"
					},
					"instance": {
						"description": "A URI reference that identifies the specific occurrence of the problem.",
						"examples": ["https://example.com/error-log/abc123"],
						"format": "uri",
						"type": "string"
					},
					"status": {
						"description": "HTTP status code",
						"examples": [400],
						"format": "int64",
						"type": "integer"
					},
					"title": {
						"description": "A short, human-readable summary of the problem type. This value should not change between occurrences of the error.",
						"examples": ["Bad Request"],
						"type": "string"
					},
					"type": {
						"default": "about:blank",
						"description": "A URI reference to human-readable documentation for the error.",
						"examples": ["https://example.com/errors/example"],
						"format": "uri",
						"type": "string"
					}
				},
				"type": "object"
			},
			"QueryResponse": {
				"additionalProperties": false,
				"properties": {
					"$schema": {
						"description": "A URL to the JSON Schema for this object.",
						"examples": ["http://localhost:8080/schemas/QueryResponse.json"],
						"format": "uri",
						"readOnly": true,
						"type": "string"
					},
					"urls": {
						"default": [],
						"items": {
							"$ref": "#/components/schemas/URL"
						},
						"type": "array"
					}
				},
				"required": ["urls"],
				"type": "object"
			},
			"ShortenRequest": {
				"additionalProperties": false,
				"properties": {
					"$schema": {
						"description": "A URL to the JSON Schema for this object.",
						"examples": ["http://localhost:8080/schemas/ShortenRequest.json"],
						"format": "uri",
						"readOnly": true,
						"type": "string"
					},
					"original_url": {
						"format": "uri",
						"type": "string"
					}
				},
				"required": ["original_url"],
				"type": "object"
			},
			"ShortenResponseBody": {
				"additionalProperties": false,
				"properties": {
					"$schema": {
						"description": "A URL to the JSON Schema for this object.",
						"examples": [
							"http://localhost:8080/schemas/ShortenResponseBody.json"
						],
						"format": "uri",
						"readOnly": true,
						"type": "string"
					},
					"short_url": {
						"type": "string"
					}
				},
				"required": ["short_url"],
				"type": "object"
			},
			"URL": {
				"additionalProperties": false,
				"properties": {
					"created_at": {
						"format": "date-time",
						"type": "string"
					},
					"expires_at": {
						"format": "date-time",
						"type": ["string", "null"]
					},
					"id": {
						"type": "string"
					},
					"notes": {
						"type": "string"
					},
					"original_url": {
						"type": "string"
					},
					"short_url": {
						"type": "string"
					},
					"status": {
						"type": "string"
					},
					"title": {
						"type": "string"
					},
					"updated_at": {
						"format": "date-time",
						"type": "string"
					},
					"user_id": {
						"type": "string"
					}
				},
				"required": [
					"id",
					"original_url",
					"short_url",
					"title",
					"notes",
					"user_id",
					"expires_at",
					"created_at",
					"updated_at",
					"status"
				],
				"type": "object"
			},
			"ErrorModelWritable": {
				"additionalProperties": false,
				"properties": {
					"detail": {
						"description": "A human-readable explanation specific to this occurrence of the problem.",
						"examples": ["Property foo is required but is missing."],
						"type": "string"
					},
					"errors": {
						"description": "Optional list of individual error details",
						"items": {
							"$ref": "#/components/schemas/ErrorDetail"
						},
						"type": "array"
					},
					"instance": {
						"description": "A URI reference that identifies the specific occurrence of the problem.",
						"examples": ["https://example.com/error-log/abc123"],
						"format": "uri",
						"type": "string"
					},
					"status": {
						"description": "HTTP status code",
						"examples": [400],
						"format": "int64",
						"type": "integer"
					},
					"title": {
						"description": "A short, human-readable summary of the problem type. This value should not change between occurrences of the error.",
						"examples": ["Bad Request"],
						"type": "string"
					},
					"type": {
						"default": "about:blank",
						"description": "A URI reference to human-readable documentation for the error.",
						"examples": ["https://example.com/errors/example"],
						"format": "uri",
						"type": "string"
					}
				},
				"type": "object"
			},
			"QueryResponseWritable": {
				"additionalProperties": false,
				"properties": {
					"urls": {
						"default": [],
						"items": {
							"$ref": "#/components/schemas/URL"
						},
						"type": "array"
					}
				},
				"required": ["urls"],
				"type": "object"
			},
			"ShortenRequestWritable": {
				"additionalProperties": false,
				"properties": {
					"original_url": {
						"format": "uri",
						"type": "string"
					}
				},
				"required": ["original_url"],
				"type": "object"
			},
			"ShortenResponseBodyWritable": {
				"additionalProperties": false,
				"properties": {
					"short_url": {
						"type": "string"
					}
				},
				"required": ["short_url"],
				"type": "object"
			}
		},
		"securitySchemes": {
			"bearer": {
				"bearerFormat": "JWT",
				"scheme": "bearer",
				"type": "http"
			}
		}
	},
	"info": {
		"title": "Refract API",
		"version": "1.0.0"
	},
	"openapi": "3.1.0",
	"paths": {
		"/api/urls/": {
			"get": {
				"operationId": "list-urls",
				"responses": {
					"200": {
						"content": {
							"application/json": {
								"schema": {
									"$ref": "#/components/schemas/QueryResponse"
								}
							}
						},
						"description": "OK"
					},
					"default": {
						"content": {
							"application/problem+json": {
								"schema": {
									"$ref": "#/components/schemas/ErrorModel"
								}
							}
						},
						"description": "Error"
					}
				}
			},
			"post": {
				"operationId": "shorten-url",
				"requestBody": {
					"content": {
						"application/json": {
							"schema": {
								"$ref": "#/components/schemas/ShortenRequestWritable"
							}
						}
					},
					"required": true
				},
				"responses": {
					"200": {
						"content": {
							"application/json": {
								"schema": {
									"$ref": "#/components/schemas/ShortenResponseBody"
								}
							}
						},
						"description": "OK"
					},
					"default": {
						"content": {
							"application/problem+json": {
								"schema": {
									"$ref": "#/components/schemas/ErrorModel"
								}
							}
						},
						"description": "Error"
					}
				}
			}
		}
	},
	"servers": [
		{
			"url": "http://localhost:8080"
		}
	]
}
